// THIS IS THE SEARCH FILTERS JS search bars
const course_endpoint = 'https://data.princegeorgescountymd.gov/resource/umjn-t2iz.json';
//"https://api.umd.io/v1/courses/departments?semester=202008";

const courses = [];

fetch(course_endpoint)
  .then(blob => blob.json())
  .then(data => courses.push(...data));

LINE 193

const data = await fetch('https://api.umd.io/v1/courses');


 

 /*
const instructor_endpoint = "https://api.umd.io/v1/courses"
const courses = [];
fetch(instructor_endpoint)
.then(blob => blob.json())
.then(data => section.push(...data));
*/

function findMatches(wordsToMatch, courses) {
    return courses.filter(course => {
        const regex = new RegExp(wordsToMatch, 'gi');
        return course.name.match(regex)
    });
}

function displayMatches() {
    const matchArray = findMatches(this.value, courses);
    let HTMLmatches = []
    if (this.value.length == 0) { 
        HTMLmatches = [];
    } 
    else {HTMLmatches = matchArray.map((course) => `
        
    <li>
        <span class="name">${course.name}</span><br>
        </li>

    </li>`).join('');
    }
    suggestions.innerHTML = HTMLmatches;       
}
   
const searchInput = document.querySelector('.search');
const suggestions = document.querySelector('.suggestions');

searchInput.addEventListener('input', displayMatches);